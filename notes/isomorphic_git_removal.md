---
order: 1
title: "Epic: Избавление от isomorphic-git"
---

-  В браузерной версии будет использоваться [wasm-git](https://github.com/petersalomonsen/wasm-git). Это биндинги libgit2 на javascript.

   Плюсы:

   1. Быстрота, так как это просто js биндинги кода на Си.

   2. Нативная реализация git’a и нативный вывод как в git.

   Минусы:

   1. Есть какой-то непонятный тайм аут (непонятно сколько секунд и почему) перед клонированием более-менее большого каталога (как минимум doc-reader уже клонируется с тайм-аутом)

   2. Реализовано довольно мало функций из коробки. Есть базовые команды, но если мы хотим что-то хитрое сделать, то мы будем ограничены реализацией wasm-git

      Что нужно прямо сейчас, но нету:

      -  Лог хеда конкретной ветки (нужен, чтобы получить инфу о последнем коммите на ветке)

   3. Нету работы с подмодулями (в isomorphic-git её тоже не было, придётся опять руками всё делать)

   4. В целом это ноунейм проект. Мало инфы/документации

   Решение минусов:

   1. ¯\\\_(ツ)\_/¯

   2. Возможно, мы сможем сами написать нужные нам биндинги с нужными пропсами из libgit2 (библиотека на си), но не знаю насколько это сложно

   3. Либо вариант решение из пункта 2, либо руками, как сейчас

   4. ¯\\\_(ツ)\_/¯

-  В приложении будем использовать [git2-rs](https://github.com/rust-lang/git2-rs). Это биндинги libgit2 на Rust.

   Плюсы:

   1. Реализация нативного гита, есть вроде как все команды (по крайней мере те, которые нам нужны)

   2. Работа с подмодулями

   3. Не ноунейм проект (находится в организации самого языка Rust в github)

   4. Быстрый

   Минусы:

   1. Не работает нормально на Andorid. [Ссылка на issue](https://github.com/rust-lang/git2-rs/issues/920). (Не тестили на ios).

   Решение минусов:

   1. Отключить проверку сертификатов, но это небезопасно